import{r as D,a as V,R as B}from"./vendor-nf7bT_Uh.js";import{C as Y,a as Z,L as Q,P as X,b as ee,p as ae,c as te,d as se,i as oe,e as re}from"./chart-DEt2Rur7.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function c(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=c(o);fetch(o.href,a)}})();var z={exports:{}},H={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=D,le=Symbol.for("react.element"),ie=Symbol.for("react.fragment"),ce=Object.prototype.hasOwnProperty,de=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,me={key:!0,ref:!0,__self:!0,__source:!0};function T(i,n,c){var s,o={},a=null,r=null;c!==void 0&&(a=""+c),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(r=n.ref);for(s in n)ce.call(n,s)&&!me.hasOwnProperty(s)&&(o[s]=n[s]);if(i&&i.defaultProps)for(s in n=i.defaultProps,n)o[s]===void 0&&(o[s]=n[s]);return{$$typeof:le,type:i,key:a,ref:r,props:o,_owner:de.current}}H.Fragment=ie;H.jsx=T;H.jsxs=T;z.exports=H;var e=z.exports,M={},_=V;M.createRoot=_.createRoot,M.hydrateRoot=_.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var he={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(i,n)=>{const c=D.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:d="",children:m,...h},f)=>D.createElement("svg",{ref:f,...he,width:o,height:o,stroke:s,strokeWidth:r?Number(a)*24/Number(o):a,className:["lucide",`lucide-${ue(i)}`,d].join(" "),...h},[...n.map(([y,b])=>D.createElement(y,b)),...Array.isArray(m)?m:[m]]));return c.displayName=`${i}`,c};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=pe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),K=[{label:"Cal Raleigh 2025",id:663728,season:2025,teamId:136},{label:"Barry Bonds 2001",id:111188,season:2001,teamId:137},{label:"Sammy Sosa 1998",id:122544,season:1998,teamId:112},{label:"Mark McGwire 1998",id:118743,season:1998,teamId:138},{label:"Aaron Judge 2022",id:592450,season:2022,teamId:147},{label:"Salvador Perez 2021",id:521692,season:2021,teamId:118},{label:"Ken Griffey Jr. 1997",id:115135,season:1997,teamId:136}],ge={"Cal Raleigh 2025":2666666,"Cal Raleigh 2026":12666666,"Cal Raleigh 2027":13666666,"Cal Raleigh 2028":24666666,"Cal Raleigh 2029":24666666,"Cal Raleigh 2030":24666668,"Cal Raleigh 2031":2e7,"Aaron Judge 2022":19e6,"Salvador Perez 2021":142e5,"Barry Bonds 2001":1145e4*1.74,"Sammy Sosa 1998":875e4*1.85,"Mark McGwire 1998":89e5*1.85,"Ken Griffey Jr. 1997":85e5*2},I={"Cal Raleigh 2025":"https://www.baseball-reference.com/players/r/raleica01.shtml#all_br-salaries","Barry Bonds 2001":"https://www.baseball-reference.com/players/b/bondsba01.shtml#all_br-salaries","Sammy Sosa 1998":"https://www.baseball-reference.com/players/s/sosasa01.shtml#all_br-salaries","Mark McGwire 1998":"https://www.baseball-reference.com/players/m/mcgwima01.shtml#all_br-salaries","Aaron Judge 2022":"https://www.baseball-reference.com/players/j/judgeaa01.shtml#all_br-salaries","Salvador Perez 2021":"https://www.baseball-reference.com/players/p/perezsa02.shtml#all_br-salaries","Ken Griffey Jr. 1997":"https://www.baseball-reference.com/players/g/griffke02.shtml#all_br-salaries"},k=new Map,G=new Map;async function fe(){var n,c,s,o,a;const i="mariners_home_games_2024";if(G.has(i))return G.get(i);try{const r="03/28/2024",d=new Date,m=`${(d.getMonth()+1).toString().padStart(2,"0")}/${d.getDate().toString().padStart(2,"0")}/${d.getFullYear()}`,h=`https://statsapi.mlb.com/api/v1/schedule?sportId=1&teamId=136&startDate=${r}&endDate=${m}&scheduleTypes=games&hydrate=venue`,f=await fetch(h);if(!f.ok)throw new Error(`Failed to fetch Mariners schedule: ${f.status}`);const y=await f.json();let b=0;if(y.dates){for(const t of y.dates)if(t.games)for(const l of t.games)((s=(c=(n=l.teams)==null?void 0:n.home)==null?void 0:c.team)==null?void 0:s.id)===136&&(((o=l.status)==null?void 0:o.detailedState)==="Final"||((a=l.status)==null?void 0:a.detailedState)==="In Progress")&&b++}return G.set(i,b),b}catch(r){return console.error("Error fetching Mariners home games:",r),ye()}}function ye(){const c=Math.floor((new Date-new Date("2024-03-28"))/(1e3*60*60*24)),s=Math.min(Math.floor(c/7*3.5),81);return Math.max(0,s)}async function U(i,n){const c=`${i}|${n}`;if(k.has(c))return k.get(c);const s=`https://statsapi.mlb.com/api/v1/schedule?teamId=${i}&season=${n}&sportId=1&gameTypes=R`,o=await fetch(s);if(!o.ok)throw new Error(`Failed to load schedule: ${o.status}`);const d=((await o.json()).dates||[]).flatMap(m=>m.games||[]).filter(m=>["Final","In Progress"].includes(m.status.detailedState)).length;return k.set(c,d),d}async function E(){const i={},n=[];let c=null;return await Promise.all(K.map(async s=>{var y;const o=`https://statsapi.mlb.com/api/v1/people/${s.id}/stats?stats=gameLog&season=${s.season}&group=hitting`,a=await fetch(o);if(!a.ok)throw new Error(`HR data failed for ${s.label}`);const d=(((y=(await a.json()).stats[0])==null?void 0:y.splits)||[]).reverse();let m=0;const h=d.map(b=>(m+=Number(b.stat.homeRuns||0),m)),f=await U(s.teamId,s.season);i[s.label]=h,n.push({label:s.label,totalHR:m,gamesPlayed:h.length,teamGamesPlayed:f}),s.label==="Cal Raleigh 2025"&&(c=d.map(b=>({date:b.date,homeRuns:Number(b.stat.homeRuns||0)})))})),{results:i,summary:n,calRaleighGameLog:c}}async function be(){const i=[];return await Promise.all(K.map(async n=>{var h,f;const c=`https://statsapi.mlb.com/api/v1/people/${n.id}/stats?stats=season&group=hitting&season=${n.season}`,s=await fetch(c);if(!s.ok)throw new Error(`Season stats failed for ${n.label}`);const a=((f=(h=(await s.json()).stats[0])==null?void 0:h.splits[0])==null?void 0:f.stat)||{},r=parseInt(a.homeRuns||0),d=ge[n.label]||0,m=r>0?d/r:"N/A";i.push({label:n.label,HR:r,AVG:parseFloat(a.avg)||"N/A",OBP:parseFloat(a.obp)||"N/A",SLG:parseFloat(a.slg)||"N/A",OPS:parseFloat(a.ops)||"N/A",AB_HR:r>0?(parseInt(a.atBats||0)/r).toFixed(3):"N/A",Salary:d,DollarPerHR:m})})),i}async function xe(i=new Date().getFullYear()){var d,m;const n=`https://statsapi.mlb.com/api/v1/stats/leaders?leaderCategories=homeRuns&season=${i}&leaderGameTypes=R&statGroup=hitting&limit=10`,c=await fetch(n);if(!c.ok)throw new Error("Failed to fetch HR leaders");const s=await c.json();console.log("Leaders API response:",s);const o=((m=(d=s.leagueLeaders)==null?void 0:d[0])==null?void 0:m.leaders)||[],a={},r=[];return await Promise.all(o.map(async h=>{var N,C;const f=h.person.id,y=`${h.person.fullName} ${i}`,b=(N=h.team)==null?void 0:N.id,t=`https://statsapi.mlb.com/api/v1/people/${f}/stats?stats=gameLog&season=${i}&group=hitting`,l=await fetch(t);if(!l.ok)return;const w=(((C=(await l.json()).stats[0])==null?void 0:C.splits)||[]).reverse();let x=0;const u=w.map(g=>(x+=Number(g.stat.homeRuns||0),x));let p=null;if(b)try{p=await U(b,i)}catch{}a[y]=u,r.push({label:y,totalHR:x,gamesPlayed:u.length,teamGamesPlayed:p})})),{results:a,summary:r}}const $=({mode:i,robberyCount:n,onModeChange:c,dollarPerDump:s,daysSinceDump:o})=>{const[a,r]=D.useState(!1),d=()=>{c(i==="historical"?"current":"historical")},m=I["Cal Raleigh 2025"],h=new Date("2022-10-15T00:00:00Z"),f=new Date,y=1e3*60*60*24,b=Math.floor((f-h)/y);return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"toggle-container toggle-center",children:e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:i==="current",onChange:d}),e.jsx("span",{className:"slider"})]})}),e.jsxs("div",{className:"header-stats-grid",children:[e.jsxs("div",{className:"dollar-per-dump-header-block",children:[e.jsx("span",{className:"dollar-per-dump-header-label",children:"Dollar per Dump:"}),e.jsx("span",{className:"dollar-per-dump-header-value",children:e.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:4},children:[s," ",e.jsx(J,{size:16,style:{verticalAlign:"middle"}})]})})]}),e.jsxs("div",{className:"days-since-dump-block",children:[e.jsx("span",{className:"days-since-dump-label",children:"Days since a Dump:"}),e.jsx("span",{className:"days-since-dump-value",children:o})]}),e.jsxs("div",{className:"days-since-playoff-block",children:[e.jsx("span",{className:"days-since-playoff-label",children:"Days since a playoff game:"}),e.jsx("span",{className:"days-since-playoff-value",children:b})]}),e.jsxs("div",{className:"countdown-display",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onFocus:()=>r(!0),onBlur:()=>r(!1),children:[e.jsx("span",{className:"countdown-label",children:"Times Humpy has been Robbed:"}),e.jsx("span",{className:"countdown-number",children:n})]})]}),a&&e.jsx("div",{className:"humpy-peek-fixed",children:e.jsx("img",{src:"/humpy.png",alt:"Humpy peeking"})})]})})},O="/assets/PlayerHeadshot-C0jGqVuS.png";Y.register(Z,Q,X,ee,ae,te,se,oe);const je=({data:i,mode:n,loading:c})=>{if(B.useEffect(()=>{const t=new Image;t.src=O,t.onload=()=>{},t.onerror=()=>{console.warn("Failed to load Cal Raleigh headshot")}},[]),c)return e.jsx("div",{className:"chart-section",children:e.jsx("div",{className:"stat-block",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading chart data..."})]})})});const s={...i},o=Object.keys(s.results).find(t=>t.includes("Cal Raleigh")&&t.includes("2025"));if(o&&n==="historical"){const t=i.summary.find(l=>l.label==="Cal Raleigh 2025");if(t){const l=s.results[o].length,R=s.results[o][l-1]||0,w=t.teamGamesPlayed,x=162-w,u=l+x,p=R/Math.max(1,l);console.log("Cal Raleigh projection debug:",{calGamesPlayed:l,marinersGamesPlayed:w,currentHR:R,pace:p,remainingGamesForCal:x,maxGamesForCal:u});const N=Array.from({length:162},(C,g)=>g<l||g>=u?null:+(R+p*(g+1-l)).toFixed(2));s.results["Cal Raleigh 2025 Projected"]=N,console.log("Projected data sample:",N.slice(l,l+10))}}const a=["Cal Raleigh 2025","Cal Raleigh 2025 Projected"],r=Object.keys(s.results),d=[...a.filter(t=>r.includes(t)),...r.filter(t=>!a.includes(t)).sort()],m=[...r].sort(),h={},f=["#005C5C","#FF6B35","#9370DB","#FFD700","#DC143C","#20B2AA","#FF69B4","#005C5C","#8A2BE2","#FF8C00","#00CED1","#FF1493","#4169E1","#00FA9A","#FF4500","#7B68EE","#00BFFF","#FF6347","#00FF7F","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"];m.forEach((t,l)=>{h[t]=f[l%f.length]});const y={labels:Array.from({length:Math.max(...Object.values(s.results).map(t=>t.length))},(t,l)=>l+1),datasets:d.map((t,l)=>{const R=t.includes("Cal Raleigh"),w=t.includes("Projected"),x={primary:"#0C2C56"},u={label:t,data:s.results[t],borderColor:R?x.primary:h[t],backgroundColor:R?x.primary+"20":h[t]+"20",borderWidth:R?5:3,borderDash:w?[4,4]:[],fill:!1,tension:w?.25:.4,pointRadius:0,pointHoverRadius:R?8:6,pointBackgroundColor:R?x.primary:h[t],pointBorderColor:"#fff",pointBorderWidth:2};return w&&console.log("Projected dataset created:",t,u),u})};console.log("All datasets:",y.datasets.map(t=>({label:t.label,dataLength:t.data.length})));const b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#c4ced4",font:{family:"Roboto Mono",size:12},usePointStyle:!0,pointStyle:"circle"}},title:{display:!0,text:n==="current"?"Current Season HR Leaders Pace":"Historical HR Pace Comparison",color:"#005C5C",font:{family:"Roboto Mono",size:18,weight:"bold"}},tooltip:{backgroundColor:"rgba(10, 10, 20, 0.9)",titleColor:"#005C5C",bodyColor:"#c4ced4",borderColor:"#005C5C",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{title:t=>`Game ${t[0].label}`,label:t=>{const l=t.dataset.label,w=l.includes("Projected")?" (projected)":"";return`${l}: ${t.parsed.y} HR${w}`},itemSort:(t,l)=>l.parsed.y-t.parsed.y}},customHeadshot:{id:"customHeadshot",afterDraw:t=>{var w,x;if(((x=(w=t.tooltip)==null?void 0:w._active)==null?void 0:x.length)>0)return;const l=t.ctx,R=t.data.datasets.find(u=>u.label==="Cal Raleigh 2025");if(R){const u=t.data.datasets.indexOf(R),p=t.getDatasetMeta(u),C=s.results["Cal Raleigh 2025"].length-1;if(C>=0&&p.data[C]){const g=p.data[C],j=g.x,P=g.y,v=new window.Image;v.src=O,v.onload=()=>{l.save(),l.beginPath(),l.arc(j,P,72/2,0,2*Math.PI),l.clip(),l.drawImage(v,j-72/2,P-72/2,72,72),l.restore()},v.complete&&(l.save(),l.beginPath(),l.arc(j,P,72/2,0,2*Math.PI),l.clip(),l.drawImage(v,j-72/2,P-72/2,72,72),l.restore())}}}}},scales:{x:{title:{display:!0,text:"Games Played",color:"#c4ced4",font:{family:"Roboto Mono",size:14}},ticks:{color:"#c4ced4",font:{family:"Roboto Mono",size:12}},grid:{color:"rgba(196, 206, 212, 0.1)"}},y:{title:{display:!0,text:"Home Runs",color:"#c4ced4",font:{family:"Roboto Mono",size:14}},ticks:{color:"#c4ced4",font:{family:"Roboto Mono",size:12}},grid:{color:"rgba(196, 206, 212, 0.1)"}}},interaction:{intersect:!1,mode:"index"}};return e.jsx("div",{className:"chart-section",children:e.jsx("div",{className:"stat-block",children:e.jsx("div",{className:"chart-container",children:e.jsx(re,{data:y,options:b,plugins:[b.plugins.customHeadshot]})})})})},Re=({data:i})=>{const n="Cal Raleigh 2025";let c=[...i];const s=c.findIndex(a=>a.label===n);if(s!==-1){const[a]=c.splice(s,1);c=[a,...c.sort((r,d)=>r.label.localeCompare(d.label))]}else c=c.sort((a,r)=>a.label.localeCompare(r.label));const o=(a,r=!1)=>a==="N/A"?"N/A":r?Number(a).toFixed(3):typeof a=="number"?a.toLocaleString():a;return e.jsx("div",{className:"stats-table-section",children:e.jsxs("div",{className:"stat-block",children:[e.jsx("h2",{children:"Season Statistics"}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Player"}),e.jsx("th",{children:"HR"}),e.jsx("th",{children:"AVG"}),e.jsx("th",{children:"OBP"}),e.jsx("th",{children:"SLG"}),e.jsx("th",{children:"OPS"}),e.jsx("th",{children:"AB/HR"}),e.jsx("th",{children:"Link"})]})}),e.jsx("tbody",{children:c.map((a,r)=>e.jsxs("tr",{className:r===0?"highlighted-row":"",children:[e.jsx("td",{className:"player-name",children:a.label}),e.jsx("td",{children:o(a.HR)}),e.jsx("td",{children:o(a.AVG,!0)}),e.jsx("td",{children:o(a.OBP,!0)}),e.jsx("td",{children:o(a.SLG,!0)}),e.jsx("td",{children:o(a.OPS,!0)}),e.jsx("td",{children:o(a.AB_HR)}),e.jsx("td",{children:I[a.label]&&e.jsx("a",{href:I[a.label],target:"_blank",rel:"noopener noreferrer",className:"external-link",children:e.jsx(J,{size:16})})})]},a.label))})]})})]})})};function we(){const[i,n]=D.useState("historical"),[c,s]=D.useState(0),[o,a]=D.useState({results:{},summary:[]}),[r,d]=D.useState([]),[m,h]=D.useState(!0),[f,y]=D.useState(null),[b,t]=D.useState("N/A");D.useEffect(()=>{(async()=>{try{h(!0),y(null);const[u,p,N]=await Promise.all([E(),be(),fe()]);if(a(u),d(p),s(N),u.calRaleighGameLog&&u.calRaleighGameLog.length>0){const g=[...u.calRaleighGameLog].sort((j,P)=>new Date(P.date)-new Date(j.date)).find(j=>j.homeRuns>0);if(g&&g.date){const j=new Date(g.date),P=new Date;j.setHours(0,0,0,0),P.setHours(0,0,0,0);const v=1e3*60*60*24,A=Math.floor((P-j)/v);t(A)}else t("N/A")}else t("N/A")}catch(u){console.error("Failed to initialize app:",u),y("Failed to load data. Please try refreshing the page.")}finally{h(!1)}})()},[]);const l=async x=>{var u;try{if(h(!0),y(null),x==="current"){const p=await xe();a(p);const N=Object.keys(p.results).find(C=>C.startsWith("Cal Raleigh"));if(N){const C=Object.keys(p.results).indexOf(N);try{const g=`https://statsapi.mlb.com/api/v1/people/663728/stats?stats=gameLog&season=${new Date().getFullYear()}&group=hitting`,j=await fetch(g);if(j.ok){const L=[...((u=(await j.json()).stats[0])==null?void 0:u.splits)||[]].sort((S,F)=>new Date(F.date)-new Date(S.date)).find(S=>Number(S.stat.homeRuns||0)>0);if(L&&L.date){const S=new Date(L.date),F=new Date;S.setHours(0,0,0,0),F.setHours(0,0,0,0);const W=1e3*60*60*24,q=Math.floor((F-S)/W);t(q)}else t("N/A")}else t("N/A")}catch{t("N/A")}}else t("N/A")}else{const p=await E();if(a(p),p.calRaleighGameLog&&p.calRaleighGameLog.length>0){const C=[...p.calRaleighGameLog].sort((g,j)=>new Date(j.date)-new Date(g.date)).find(g=>g.homeRuns>0);if(C&&C.date){const g=new Date(C.date),j=new Date;g.setHours(0,0,0,0),j.setHours(0,0,0,0);const P=1e3*60*60*24,v=Math.floor((j-g)/P);t(v)}else t("N/A")}else t("N/A")}n(x)}catch(p){console.error("Failed to switch mode:",p),y("Failed to load data. Please try again.")}finally{h(!1)}},R=r.find(x=>x&&x.label==="Cal Raleigh 2025"),w=R&&R.DollarPerHR!=="N/A"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(R.DollarPerHR):"N/A";return m&&o.summary.length===0?e.jsxs("div",{className:"app",children:[e.jsx($,{mode:i,robberyCount:c,onModeChange:l}),e.jsx("main",{className:"content",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading baseball data..."})]})})]}):e.jsxs("div",{className:"app",children:[e.jsx($,{mode:i,robberyCount:c,onModeChange:l,dollarPerDump:w,daysSinceDump:b}),e.jsxs("main",{className:"content",children:[f&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:f}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}),e.jsx(je,{data:o,mode:i,loading:m}),r.length>0&&e.jsx(Re,{data:r})]})]})}M.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(we,{})}));
