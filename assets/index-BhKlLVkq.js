import{r as j,a as J,R as E}from"./vendor-nf7bT_Uh.js";import{C as K,a as U,L as q,P as V,b as W,p as Y,c as Z,d as Q,i as X,e as ee}from"./chart-DEt2Rur7.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=o(t);fetch(t.href,a)}})();var $={exports:{}},D={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ae=j,te=Symbol.for("react.element"),se=Symbol.for("react.fragment"),re=Object.prototype.hasOwnProperty,oe=ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0};function G(n,l,o){var r,t={},a=null,c=null;o!==void 0&&(a=""+o),l.key!==void 0&&(a=""+l.key),l.ref!==void 0&&(c=l.ref);for(r in l)re.call(l,r)&&!le.hasOwnProperty(r)&&(t[r]=l[r]);if(n&&n.defaultProps)for(r in l=n.defaultProps,l)t[r]===void 0&&(t[r]=l[r]);return{$$typeof:te,type:n,key:a,ref:c,props:t,_owner:oe.current}}D.Fragment=se;D.jsx=G;D.jsxs=G;$.exports=D;var e=$.exports,A={},M=J;A.createRoot=M.createRoot,A.hydrateRoot=M.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(n,l)=>{const o=j.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:d="",children:m,...h},p)=>j.createElement("svg",{ref:p,...ne,width:t,height:t,stroke:r,strokeWidth:c?Number(a)*24/Number(t):a,className:["lucide",`lucide-${ie(n)}`,d].join(" "),...h},[...l.map(([g,y])=>j.createElement(g,y)),...Array.isArray(m)?m:[m]]));return o.displayName=`${n}`,o};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=ce("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),z=[{label:"Cal Raleigh 2025",id:663728,season:2025,teamId:136},{label:"Barry Bonds 2001",id:111188,season:2001,teamId:137},{label:"Sammy Sosa 1998",id:122544,season:1998,teamId:112},{label:"Mark McGwire 1998",id:118743,season:1998,teamId:138},{label:"Aaron Judge 2022",id:592450,season:2022,teamId:147},{label:"Salvador Perez 2021",id:521692,season:2021,teamId:118},{label:"Ken Griffey Jr. 1997",id:115135,season:1997,teamId:136}],de={"Cal Raleigh 2025":2666666,"Cal Raleigh 2026":12666666,"Cal Raleigh 2027":13666666,"Cal Raleigh 2028":24666666,"Cal Raleigh 2029":24666666,"Cal Raleigh 2030":24666668,"Cal Raleigh 2031":2e7,"Aaron Judge 2022":19e6,"Salvador Perez 2021":142e5,"Barry Bonds 2001":1145e4*1.74,"Sammy Sosa 1998":875e4*1.85,"Mark McGwire 1998":89e5*1.85,"Ken Griffey Jr. 1997":85e5*2},H={"Cal Raleigh 2025":"https://www.baseball-reference.com/players/r/raleica01.shtml#all_br-salaries","Barry Bonds 2001":"https://www.baseball-reference.com/players/b/bondsba01.shtml#all_br-salaries","Sammy Sosa 1998":"https://www.baseball-reference.com/players/s/sosasa01.shtml#all_br-salaries","Mark McGwire 1998":"https://www.baseball-reference.com/players/m/mcgwima01.shtml#all_br-salaries","Aaron Judge 2022":"https://www.baseball-reference.com/players/j/judgeaa01.shtml#all_br-salaries","Salvador Perez 2021":"https://www.baseball-reference.com/players/p/perezsa02.shtml#all_br-salaries","Ken Griffey Jr. 1997":"https://www.baseball-reference.com/players/g/griffke02.shtml#all_br-salaries"},F=new Map,k=new Map;async function me(){var l,o,r,t,a;const n="mariners_home_games_2024";if(k.has(n))return k.get(n);try{const c="03/28/2024",d=new Date,m=`${(d.getMonth()+1).toString().padStart(2,"0")}/${d.getDate().toString().padStart(2,"0")}/${d.getFullYear()}`,h=`https://statsapi.mlb.com/api/v1/schedule?sportId=1&teamId=136&startDate=${c}&endDate=${m}&scheduleTypes=games&hydrate=venue`,p=await fetch(h);if(!p.ok)throw new Error(`Failed to fetch Mariners schedule: ${p.status}`);const g=await p.json();let y=0;if(g.dates){for(const s of g.dates)if(s.games)for(const i of s.games)((r=(o=(l=i.teams)==null?void 0:l.home)==null?void 0:o.team)==null?void 0:r.id)===136&&(((t=i.status)==null?void 0:t.detailedState)==="Final"||((a=i.status)==null?void 0:a.detailedState)==="In Progress")&&y++}return k.set(n,y),y}catch(c){return console.error("Error fetching Mariners home games:",c),he()}}function he(){const o=Math.floor((new Date-new Date("2024-03-28"))/(1e3*60*60*24)),r=Math.min(Math.floor(o/7*3.5),81);return Math.max(0,r)}async function O(n,l){const o=`${n}|${l}`;if(F.has(o))return F.get(o);const r=`https://statsapi.mlb.com/api/v1/schedule?teamId=${n}&season=${l}&sportId=1&gameTypes=R`,t=await fetch(r);if(!t.ok)throw new Error(`Failed to load schedule: ${t.status}`);const d=((await t.json()).dates||[]).flatMap(m=>m.games||[]).filter(m=>["Final","In Progress"].includes(m.status.detailedState)).length;return F.set(o,d),d}async function L(){const n={},l=[];return await Promise.all(z.map(async o=>{var p;const r=`https://statsapi.mlb.com/api/v1/people/${o.id}/stats?stats=gameLog&season=${o.season}&group=hitting`,t=await fetch(r);if(!t.ok)throw new Error(`HR data failed for ${o.label}`);const c=(((p=(await t.json()).stats[0])==null?void 0:p.splits)||[]).reverse();let d=0;const m=c.map(g=>(d+=Number(g.stat.homeRuns||0),d)),h=await O(o.teamId,o.season);n[o.label]=m,l.push({label:o.label,totalHR:d,gamesPlayed:m.length,teamGamesPlayed:h})})),{results:n,summary:l}}async function ue(){const n=[];return await Promise.all(z.map(async l=>{var h,p;const o=`https://statsapi.mlb.com/api/v1/people/${l.id}/stats?stats=season&group=hitting&season=${l.season}`,r=await fetch(o);if(!r.ok)throw new Error(`Season stats failed for ${l.label}`);const a=((p=(h=(await r.json()).stats[0])==null?void 0:h.splits[0])==null?void 0:p.stat)||{},c=parseInt(a.homeRuns||0),d=de[l.label]||0,m=c>0?d/c:"N/A";n.push({label:l.label,HR:c,AVG:parseFloat(a.avg)||"N/A",OBP:parseFloat(a.obp)||"N/A",SLG:parseFloat(a.slg)||"N/A",OPS:parseFloat(a.ops)||"N/A",AB_HR:c>0?(parseInt(a.atBats||0)/c).toFixed(3):"N/A",Salary:d,DollarPerHR:m})})),n}async function pe(n=new Date().getFullYear()){var d,m;const l=`https://statsapi.mlb.com/api/v1/stats/leaders?leaderCategories=homeRuns&season=${n}&leaderGameTypes=R&statGroup=hitting&limit=10`,o=await fetch(l);if(!o.ok)throw new Error("Failed to fetch HR leaders");const r=await o.json();console.log("Leaders API response:",r);const t=((m=(d=r.leagueLeaders)==null?void 0:d[0])==null?void 0:m.leaders)||[],a={},c=[];return await Promise.all(t.map(async h=>{var P,C;const p=h.person.id,g=`${h.person.fullName} ${n}`,y=(P=h.team)==null?void 0:P.id,s=`https://statsapi.mlb.com/api/v1/people/${p}/stats?stats=gameLog&season=${n}&group=hitting`,i=await fetch(s);if(!i.ok)return;const u=(((C=(await i.json()).stats[0])==null?void 0:C.splits)||[]).reverse();let b=0;const x=u.map(R=>(b+=Number(R.stat.homeRuns||0),b));let w=null;if(y)try{w=await O(y,n)}catch{}a[g]=x,c.push({label:g,totalHR:b,gamesPlayed:x.length,teamGamesPlayed:w})})),{results:a,summary:c}}const I=({mode:n,robberyCount:l,onModeChange:o,dollarPerDump:r})=>{const[t,a]=j.useState(!1),c=()=>{o(n==="historical"?"current":"historical")},d=H["Cal Raleigh 2025"],m=new Date("2022-10-15T00:00:00Z"),h=new Date,p=1e3*60*60*24,g=Math.floor((h-m)/p);return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-left",children:e.jsxs("div",{className:"toggle-container",children:[e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:n==="current",onChange:c}),e.jsx("span",{className:"slider"})]}),e.jsx("span",{className:"toggle-label",children:n==="current"?"Current Season HR Leaders":"Historical HR Pace"})]})}),e.jsxs("div",{className:"dollar-per-dump-header-block",children:[e.jsx("span",{className:"dollar-per-dump-header-label",children:"Dollar per Dump:"}),e.jsx("span",{className:"dollar-per-dump-header-value",children:e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none",display:"inline-flex",alignItems:"center",gap:4},children:[r," ",e.jsx(B,{size:16,style:{verticalAlign:"middle"}})]})})]}),e.jsxs("div",{className:"days-since-playoff-block",children:[e.jsx("span",{className:"days-since-playoff-label",children:"Days since a playoff game:"}),e.jsx("span",{className:"days-since-playoff-value",children:g})]}),e.jsxs("div",{className:`header-right${t?" humpy-hover":""}`,children:[e.jsx("img",{src:"/humpy.png",alt:"Humpy peeking",className:"humpy-peek"}),e.jsxs("div",{className:"countdown-display",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onFocus:()=>a(!0),onBlur:()=>a(!1),children:[e.jsx("span",{className:"countdown-label",children:"Times Humpy has been Robbed:"}),e.jsx("span",{className:"countdown-number",children:l})]})]})]})})},_="/assets/PlayerHeadshot-C0jGqVuS.png";K.register(U,q,V,W,Y,Z,Q,X);const fe=({data:n,mode:l,loading:o})=>{if(E.useEffect(()=>{const s=new Image;s.src=_,s.onload=()=>{},s.onerror=()=>{console.warn("Failed to load Cal Raleigh headshot")}},[]),o)return e.jsx("div",{className:"chart-section",children:e.jsx("div",{className:"stat-block",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading chart data..."})]})})});const r={...n},t=Object.keys(r.results).find(s=>s.includes("Cal Raleigh")&&s.includes("2025"));if(t&&l==="historical"){const s=n.summary.find(i=>i.label==="Cal Raleigh 2025");if(s){const i=r.results[t].length,f=r.results[t][i-1]||0,u=s.teamGamesPlayed,b=162-u,x=i+b,w=f/Math.max(1,i);console.log("Cal Raleigh projection debug:",{calGamesPlayed:i,marinersGamesPlayed:u,currentHR:f,pace:w,remainingGamesForCal:b,maxGamesForCal:x});const P=Array.from({length:162},(C,R)=>R<i||R>=x?null:+(f+w*(R+1-i)).toFixed(2));r.results["Cal Raleigh 2025 Projected"]=P,console.log("Projected data sample:",P.slice(i,i+10))}}const a=["Cal Raleigh 2025","Cal Raleigh 2025 Projected"],c=Object.keys(r.results),d=[...a.filter(s=>c.includes(s)),...c.filter(s=>!a.includes(s)).sort()],m=[...c].sort(),h={},p=["#00FF00","#FF6B35","#9370DB","#FFD700","#DC143C","#20B2AA","#FF69B4","#32CD32","#8A2BE2","#FF8C00","#00CED1","#FF1493","#4169E1","#00FA9A","#FF4500","#7B68EE","#00BFFF","#FF6347","#00FF7F","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"];m.forEach((s,i)=>{h[s]=p[i%p.length]});const g={labels:Array.from({length:Math.max(...Object.values(r.results).map(s=>s.length))},(s,i)=>i+1),datasets:d.map((s,i)=>{const f=s.includes("Cal Raleigh"),u=s.includes("Projected"),b={primary:"#0C2C56"},x={label:s,data:r.results[s],borderColor:f?b.primary:h[s],backgroundColor:f?b.primary+"20":h[s]+"20",borderWidth:f?5:3,borderDash:u?[4,4]:[],fill:!1,tension:u?.25:.4,pointRadius:0,pointHoverRadius:f?8:6,pointBackgroundColor:f?b.primary:h[s],pointBorderColor:"#fff",pointBorderWidth:2};return u&&console.log("Projected dataset created:",s,x),x})};console.log("All datasets:",g.datasets.map(s=>({label:s.label,dataLength:s.data.length})));const y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#c4ced4",font:{family:"Roboto Mono",size:12},usePointStyle:!0,pointStyle:"circle"}},title:{display:!0,text:l==="current"?"Current Season HR Leaders Pace":"Historical HR Pace Comparison",color:"#00FF00",font:{family:"Roboto Mono",size:18,weight:"bold"}},tooltip:{backgroundColor:"rgba(10, 10, 20, 0.9)",titleColor:"#00FF00",bodyColor:"#c4ced4",borderColor:"#00FF00",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{title:s=>`Game ${s[0].label}`,label:s=>{const i=s.dataset.label,u=i.includes("Projected")?" (projected)":"";return`${i}: ${s.parsed.y} HR${u}`},itemSort:(s,i)=>i.parsed.y-s.parsed.y}},customHeadshot:{id:"customHeadshot",afterDraw:s=>{var u,b;if(((b=(u=s.tooltip)==null?void 0:u._active)==null?void 0:b.length)>0)return;const i=s.ctx,f=s.data.datasets.find(x=>x.label==="Cal Raleigh 2025");if(f){const x=s.data.datasets.indexOf(f),w=s.getDatasetMeta(x),C=r.results["Cal Raleigh 2025"].length-1;if(C>=0&&w.data[C]){const R=w.data[C],N=R.x,S=R.y,v=new window.Image;v.src=_,v.onload=()=>{i.save(),i.beginPath(),i.arc(N,S,72/2,0,2*Math.PI),i.clip(),i.drawImage(v,N-72/2,S-72/2,72,72),i.restore()},v.complete&&(i.save(),i.beginPath(),i.arc(N,S,72/2,0,2*Math.PI),i.clip(),i.drawImage(v,N-72/2,S-72/2,72,72),i.restore())}}}}},scales:{x:{title:{display:!0,text:"Games Played",color:"#c4ced4",font:{family:"Roboto Mono",size:14}},ticks:{color:"#c4ced4",font:{family:"Roboto Mono",size:12}},grid:{color:"rgba(196, 206, 212, 0.1)"}},y:{title:{display:!0,text:"Home Runs",color:"#c4ced4",font:{family:"Roboto Mono",size:14}},ticks:{color:"#c4ced4",font:{family:"Roboto Mono",size:12}},grid:{color:"rgba(196, 206, 212, 0.1)"}}},interaction:{intersect:!1,mode:"index"}};return e.jsx("div",{className:"chart-section",children:e.jsx("div",{className:"stat-block",children:e.jsx("div",{className:"chart-container",children:e.jsx(ee,{data:g,options:y,plugins:[y.plugins.customHeadshot]})})})})},ge=({data:n})=>{const l="Cal Raleigh 2025";let o=[...n];const r=o.findIndex(a=>a.label===l);if(r!==-1){const[a]=o.splice(r,1);o=[a,...o.sort((c,d)=>c.label.localeCompare(d.label))]}else o=o.sort((a,c)=>a.label.localeCompare(c.label));const t=a=>a==="N/A"?"N/A":typeof a=="number"?a.toLocaleString():a;return e.jsx("div",{className:"stats-table-section",children:e.jsxs("div",{className:"stat-block",children:[e.jsx("h2",{children:"Season Statistics"}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Player"}),e.jsx("th",{children:"HR"}),e.jsx("th",{children:"AVG"}),e.jsx("th",{children:"OBP"}),e.jsx("th",{children:"SLG"}),e.jsx("th",{children:"OPS"}),e.jsx("th",{children:"AB/HR"}),e.jsx("th",{children:"Link"})]})}),e.jsx("tbody",{children:o.map((a,c)=>e.jsxs("tr",{className:c===0?"highlighted-row":"",children:[e.jsx("td",{className:"player-name",children:a.label}),e.jsx("td",{children:t(a.HR)}),e.jsx("td",{children:t(a.AVG)}),e.jsx("td",{children:t(a.OBP)}),e.jsx("td",{children:t(a.SLG)}),e.jsx("td",{children:t(a.OPS)}),e.jsx("td",{children:t(a.AB_HR)}),e.jsx("td",{children:H[a.label]&&e.jsx("a",{href:H[a.label],target:"_blank",rel:"noopener noreferrer",className:"external-link",children:e.jsx(B,{size:16})})})]},a.label))})]})})]})})};function ye(){const[n,l]=j.useState("historical"),[o,r]=j.useState(0),[t,a]=j.useState({results:{},summary:[]}),[c,d]=j.useState([]),[m,h]=j.useState(!0),[p,g]=j.useState(null);j.useEffect(()=>{(async()=>{try{h(!0),g(null);const[u,b,x]=await Promise.all([L(),ue(),me()]);a(u),d(b),r(x)}catch(u){console.error("Failed to initialize app:",u),g("Failed to load data. Please try refreshing the page.")}finally{h(!1)}})()},[]);const y=async f=>{try{if(h(!0),g(null),f==="current"){const u=await pe();a(u)}else{const u=await L();a(u)}l(f)}catch(u){console.error("Failed to switch mode:",u),g("Failed to load data. Please try again.")}finally{h(!1)}},s=c.find(f=>f&&f.label==="Cal Raleigh 2025"),i=s&&s.DollarPerHR!=="N/A"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(s.DollarPerHR):"N/A";return m&&t.summary.length===0?e.jsxs("div",{className:"app",children:[e.jsx(I,{mode:n,robberyCount:o,onModeChange:y}),e.jsx("main",{className:"content",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading baseball data..."})]})})]}):e.jsxs("div",{className:"app",children:[e.jsx(I,{mode:n,robberyCount:o,onModeChange:y,dollarPerDump:i}),e.jsxs("main",{className:"content",children:[p&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:p}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}),e.jsx(fe,{data:t,mode:n,loading:m}),c.length>0&&e.jsx(ge,{data:c})]})]})}A.createRoot(document.getElementById("root")).render(e.jsx(E.StrictMode,{children:e.jsx(ye,{})}));
