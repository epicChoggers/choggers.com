import{r as x,a as O,R as _}from"./vendor-nf7bT_Uh.js";import{C as z,a as T,L as J,P as K,b as U,p as q,c as V,d as W,i as Y,e as Z}from"./chart-DEt2Rur7.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();var H={exports:{}},S={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q=x,X=Symbol.for("react.element"),ee=Symbol.for("react.fragment"),ae=Object.prototype.hasOwnProperty,te=Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,se={key:!0,ref:!0,__self:!0,__source:!0};function I(n,o,l){var a,r={},i=null,c=null;l!==void 0&&(i=""+l),o.key!==void 0&&(i=""+o.key),o.ref!==void 0&&(c=o.ref);for(a in o)ae.call(o,a)&&!se.hasOwnProperty(a)&&(r[a]=o[a]);if(n&&n.defaultProps)for(a in o=n.defaultProps,o)r[a]===void 0&&(r[a]=o[a]);return{$$typeof:X,type:n,key:i,ref:c,props:r,_owner:te.current}}S.Fragment=ee;S.jsx=I;S.jsxs=I;H.exports=S;var e=H.exports,D={},A=O;D.createRoot=A.createRoot,D.hydrateRoot=A.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var re={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(n,o)=>{const l=x.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:m,...h},u)=>x.createElement("svg",{ref:u,...re,width:r,height:r,stroke:a,strokeWidth:c?Number(i)*24/Number(r):i,className:["lucide",`lucide-${oe(n)}`,d].join(" "),...h},[...o.map(([p,y])=>x.createElement(p,y)),...Array.isArray(m)?m:[m]]));return l.displayName=`${n}`,l};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),k=({mode:n,robberyCount:o,onModeChange:l})=>{const a=()=>{l(n==="historical"?"current":"historical")};return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-left",children:e.jsxs("div",{className:"toggle-container",children:[e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:n==="current",onChange:a}),e.jsx("span",{className:"slider"})]}),e.jsx("span",{className:"toggle-label",children:n==="current"?"Current Season HR Leaders":"Historical HR Pace"})]})}),e.jsxs("div",{className:"header-title",children:[e.jsx("span",{className:"title-icon",children:"🍑"}),"Dumpy Tracker",e.jsx("span",{className:"title-icon",children:"🚛"})]}),e.jsx("div",{className:"header-right",children:e.jsxs("div",{className:"countdown-display",children:[e.jsx("span",{className:"countdown-label",children:"Times Humpy has been Robbed:"}),e.jsx("span",{className:"countdown-number",children:o})]})})]})})},L="/choggers.com/assets/PlayerHeadshot-C0jGqVuS.png";z.register(T,J,K,U,q,V,W,Y);const ie=({data:n,mode:o,loading:l})=>{if(_.useEffect(()=>{const t=new Image;t.src=L,t.onload=()=>{},t.onerror=()=>{console.warn("Failed to load Cal Raleigh headshot")}},[]),l)return e.jsx("div",{className:"chart-section",children:e.jsx("div",{className:"stat-block",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading chart data..."})]})})});const a={...n},r=Object.keys(a.results).find(t=>t.includes("Cal Raleigh")&&t.includes("2025"));if(r){const t=n.summary.find(s=>s.label==="Cal Raleigh 2025");if(t){const s=a.results[r].length,g=a.results[r][s-1]||0,f=t.teamGamesPlayed,b=162-f,w=s+b,R=g/Math.max(1,s);console.log("Cal Raleigh projection debug:",{calGamesPlayed:s,marinersGamesPlayed:f,currentHR:g,pace:R,remainingGamesForCal:b,maxGamesForCal:w});const C=Array.from({length:162},(N,j)=>j<s||j>=w?null:+(g+R*(j+1-s)).toFixed(2));a.results["Cal Raleigh 2025 Projected"]=C,console.log("Projected data sample:",C.slice(s,s+10))}}const i=["Cal Raleigh 2025","Cal Raleigh 2025 Projected"],c=Object.keys(a.results),d=[...i.filter(t=>c.includes(t)),...c.filter(t=>!i.includes(t))],m=[...c].sort(),h={},u=["#00FF00","#FF6B35","#9370DB","#FFD700","#DC143C","#20B2AA","#FF69B4","#32CD32","#8A2BE2","#FF8C00","#00CED1","#FF1493","#4169E1","#00FA9A","#FF4500","#7B68EE","#00BFFF","#FF6347","#00FF7F","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"];m.forEach((t,s)=>{h[t]=u[s%u.length]});const p={labels:Array.from({length:Math.max(...Object.values(a.results).map(t=>t.length))},(t,s)=>s+1),datasets:d.map((t,s)=>{const g=t.includes("Cal Raleigh"),f=t.includes("Projected"),b={primary:"#0C2C56"},w={label:t,data:a.results[t],borderColor:g?b.primary:h[t],backgroundColor:g?b.primary+"20":h[t]+"20",borderWidth:g?5:3,borderDash:f?[4,4]:[],fill:!1,tension:f?.25:.4,pointRadius:0,pointHoverRadius:g?8:6,pointBackgroundColor:g?b.primary:h[t],pointBorderColor:"#fff",pointBorderWidth:2};return f&&console.log("Projected dataset created:",t,w),w})};console.log("All datasets:",p.datasets.map(t=>({label:t.label,dataLength:t.data.length})));const y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#c4ced4",font:{family:"Roboto Mono",size:12},usePointStyle:!0,pointStyle:"circle"}},title:{display:!0,text:o==="current"?"Current Season HR Leaders Pace":"Historical HR Pace Comparison",color:"#00FF00",font:{family:"Roboto Mono",size:18,weight:"bold"}},tooltip:{backgroundColor:"rgba(10, 10, 20, 0.9)",titleColor:"#00FF00",bodyColor:"#c4ced4",borderColor:"#00FF00",borderWidth:1,cornerRadius:8,displayColors:!0,callbacks:{title:t=>`Game ${t[0].label}`,label:t=>{const s=t.dataset.label,f=s.includes("Projected")?" (projected)":"";return`${s}: ${t.parsed.y} HR${f}`}}},customHeadshot:{id:"customHeadshot",afterDraw:t=>{const s=t.ctx,g=t.data.datasets.find(f=>f.label==="Cal Raleigh 2025");if(g){const f=t.data.datasets.indexOf(g),b=t.getDatasetMeta(f),R=a.results["Cal Raleigh 2025"].length-1;if(R>=0&&b.data[R]){const C=b.data[R],N=C.x,j=C.y,P=new window.Image;P.src=L,P.onload=()=>{s.save(),s.beginPath(),s.arc(N,j,72/2,0,2*Math.PI),s.clip(),s.drawImage(P,N-72/2,j-72/2,72,72),s.restore()},P.complete&&(s.save(),s.beginPath(),s.arc(N,j,72/2,0,2*Math.PI),s.clip(),s.drawImage(P,N-72/2,j-72/2,72,72),s.restore())}}}}},scales:{x:{title:{display:!0,text:"Games Played",color:"#c4ced4",font:{family:"Roboto Mono",size:14}},ticks:{color:"#c4ced4",font:{family:"Roboto Mono",size:12}},grid:{color:"rgba(196, 206, 212, 0.1)"}},y:{title:{display:!0,text:"Home Runs",color:"#c4ced4",font:{family:"Roboto Mono",size:14}},ticks:{color:"#c4ced4",font:{family:"Roboto Mono",size:12}},grid:{color:"rgba(196, 206, 212, 0.1)"}}},interaction:{intersect:!1,mode:"index"}};return e.jsx("div",{className:"chart-section",children:e.jsx("div",{className:"stat-block",children:e.jsx("div",{className:"chart-container",children:e.jsx(Z,{data:p,options:y,plugins:[y.plugins.customHeadshot]})})})})},$=[{label:"Cal Raleigh 2025",id:663728,season:2025,teamId:136},{label:"Barry Bonds 2001",id:111188,season:2001,teamId:137},{label:"Sammy Sosa 1998",id:122544,season:1998,teamId:112},{label:"Mark McGwire 1998",id:118743,season:1998,teamId:138},{label:"Aaron Judge 2022",id:592450,season:2022,teamId:147},{label:"Salvador Perez 2021",id:521692,season:2021,teamId:118},{label:"Ken Griffey Jr. 1997",id:115135,season:1997,teamId:136}],ce={"Cal Raleigh 2025":2666666,"Cal Raleigh 2026":12666666,"Cal Raleigh 2027":13666666,"Cal Raleigh 2028":24666666,"Cal Raleigh 2029":24666666,"Cal Raleigh 2030":24666668,"Cal Raleigh 2031":2e7,"Aaron Judge 2022":19e6,"Salvador Perez 2021":142e5,"Barry Bonds 2001":1145e4*1.74,"Sammy Sosa 1998":875e4*1.85,"Mark McGwire 1998":89e5*1.85,"Ken Griffey Jr. 1997":85e5*2},M={"Cal Raleigh 2025":"https://www.baseball-reference.com/players/r/raleica01.shtml#all_br-salaries","Barry Bonds 2001":"https://www.baseball-reference.com/players/b/bondsba01.shtml#all_br-salaries","Sammy Sosa 1998":"https://www.baseball-reference.com/players/s/sosasa01.shtml#all_br-salaries","Mark McGwire 1998":"https://www.baseball-reference.com/players/m/mcgwima01.shtml#all_br-salaries","Aaron Judge 2022":"https://www.baseball-reference.com/players/j/judgeaa01.shtml#all_br-salaries","Salvador Perez 2021":"https://www.baseball-reference.com/players/p/perezsa02.shtml#all_br-salaries","Ken Griffey Jr. 1997":"https://www.baseball-reference.com/players/g/griffke02.shtml#all_br-salaries"},F=new Map,v=new Map;async function de(){var o,l,a,r,i;const n="mariners_home_games_2024";if(v.has(n))return v.get(n);try{const c="03/28/2024",d=new Date,m=`${(d.getMonth()+1).toString().padStart(2,"0")}/${d.getDate().toString().padStart(2,"0")}/${d.getFullYear()}`,h=`https://statsapi.mlb.com/api/v1/schedule?sportId=1&teamId=136&startDate=${c}&endDate=${m}&scheduleTypes=games&hydrate=venue`,u=await fetch(h);if(!u.ok)throw new Error(`Failed to fetch Mariners schedule: ${u.status}`);const p=await u.json();let y=0;if(p.dates){for(const t of p.dates)if(t.games)for(const s of t.games)((a=(l=(o=s.teams)==null?void 0:o.home)==null?void 0:l.team)==null?void 0:a.id)===136&&(((r=s.status)==null?void 0:r.detailedState)==="Final"||((i=s.status)==null?void 0:i.detailedState)==="In Progress")&&y++}return v.set(n,y),y}catch(c){return console.error("Error fetching Mariners home games:",c),me()}}function me(){const l=Math.floor((new Date-new Date("2024-03-28"))/(1e3*60*60*24)),a=Math.min(Math.floor(l/7*3.5),81);return Math.max(0,a)}async function G(n,o){const l=`${n}|${o}`;if(F.has(l))return F.get(l);const a=`https://statsapi.mlb.com/api/v1/schedule?teamId=${n}&season=${o}&sportId=1&gameTypes=R`,r=await fetch(a);if(!r.ok)throw new Error(`Failed to load schedule: ${r.status}`);const d=((await r.json()).dates||[]).flatMap(m=>m.games||[]).filter(m=>["Final","In Progress"].includes(m.status.detailedState)).length;return F.set(l,d),d}async function E(){const n={},o=[];return await Promise.all($.map(async l=>{var u;const a=`https://statsapi.mlb.com/api/v1/people/${l.id}/stats?stats=gameLog&season=${l.season}&group=hitting`,r=await fetch(a);if(!r.ok)throw new Error(`HR data failed for ${l.label}`);const c=(((u=(await r.json()).stats[0])==null?void 0:u.splits)||[]).reverse();let d=0;const m=c.map(p=>(d+=Number(p.stat.homeRuns||0),d)),h=await G(l.teamId,l.season);n[l.label]=m,o.push({label:l.label,totalHR:d,gamesPlayed:m.length,teamGamesPlayed:h})})),{results:n,summary:o}}async function he(){const n=[];return await Promise.all($.map(async o=>{var h,u;const l=`https://statsapi.mlb.com/api/v1/people/${o.id}/stats?stats=season&group=hitting&season=${o.season}`,a=await fetch(l);if(!a.ok)throw new Error(`Season stats failed for ${o.label}`);const i=((u=(h=(await a.json()).stats[0])==null?void 0:h.splits[0])==null?void 0:u.stat)||{},c=parseInt(i.homeRuns||0),d=ce[o.label]||0,m=c>0?d/c:"N/A";n.push({label:o.label,AVG:parseFloat(i.avg)||"N/A",OBP:parseFloat(i.obp)||"N/A",SLG:parseFloat(i.slg)||"N/A",OPS:parseFloat(i.ops)||"N/A",AB_HR:c>0?(parseInt(i.atBats||0)/c).toFixed(3):"N/A",Salary:d,DollarPerHR:m})})),n}async function ue(n=new Date().getFullYear()){var d,m;const o=`https://statsapi.mlb.com/api/v1/stats/leaders?leaderCategories=homeRuns&season=${n}&leaderGameTypes=R&statGroup=hitting&limit=10`,l=await fetch(o);if(!l.ok)throw new Error("Failed to fetch HR leaders");const a=await l.json();console.log("Leaders API response:",a);const r=((m=(d=a.leagueLeaders)==null?void 0:d[0])==null?void 0:m.leaders)||[],i={},c=[];return await Promise.all(r.map(async h=>{var C,N;const u=h.person.id,p=`${h.person.fullName} ${n}`,y=(C=h.team)==null?void 0:C.id,t=`https://statsapi.mlb.com/api/v1/people/${u}/stats?stats=gameLog&season=${n}&group=hitting`,s=await fetch(t);if(!s.ok)return;const f=(((N=(await s.json()).stats[0])==null?void 0:N.splits)||[]).reverse();let b=0;const w=f.map(j=>(b+=Number(j.stat.homeRuns||0),b));let R=null;if(y)try{R=await G(y,n)}catch{}i[p]=w,c.push({label:p,totalHR:b,gamesPlayed:w.length,teamGamesPlayed:R})})),{results:i,summary:c}}const pe=({data:n})=>{const o=a=>a==="N/A"?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),l=a=>a==="N/A"?"N/A":typeof a=="number"?a.toLocaleString():a;return e.jsx("div",{className:"stats-table-section",children:e.jsxs("div",{className:"stat-block",children:[e.jsx("h2",{children:"Season Statistics"}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Player"}),e.jsx("th",{children:"AVG"}),e.jsx("th",{children:"OBP"}),e.jsx("th",{children:"SLG"}),e.jsx("th",{children:"OPS"}),e.jsx("th",{children:"AB/HR"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"$/HR"}),e.jsx("th",{children:"Link"})]})}),e.jsx("tbody",{children:n.map((a,r)=>e.jsxs("tr",{className:r===0?"highlighted-row":"",children:[e.jsx("td",{className:"player-name",children:a.label}),e.jsx("td",{children:l(a.AVG)}),e.jsx("td",{children:l(a.OBP)}),e.jsx("td",{children:l(a.SLG)}),e.jsx("td",{children:l(a.OPS)}),e.jsx("td",{children:l(a.AB_HR)}),e.jsx("td",{className:"salary",children:o(a.Salary)}),e.jsx("td",{className:"dollar-per-hr",children:a.DollarPerHR==="N/A"?"N/A":o(a.DollarPerHR)}),e.jsx("td",{children:M[a.label]&&e.jsx("a",{href:M[a.label],target:"_blank",rel:"noopener noreferrer",className:"external-link",children:e.jsx(le,{size:16})})})]},a.label))})]})})]})})};function ge(){const[n,o]=x.useState("historical"),[l,a]=x.useState(0),[r,i]=x.useState({results:{},summary:[]}),[c,d]=x.useState([]),[m,h]=x.useState(!0),[u,p]=x.useState(null);x.useEffect(()=>{(async()=>{try{h(!0),p(null);const[s,g,f]=await Promise.all([E(),he(),de()]);i(s),d(g),a(f)}catch(s){console.error("Failed to initialize app:",s),p("Failed to load data. Please try refreshing the page.")}finally{h(!1)}})()},[]);const y=async t=>{try{if(h(!0),p(null),t==="current"){const s=await ue();i(s)}else{const s=await E();i(s)}o(t)}catch(s){console.error("Failed to switch mode:",s),p("Failed to load data. Please try again.")}finally{h(!1)}};return m&&r.summary.length===0?e.jsxs("div",{className:"app",children:[e.jsx(k,{mode:n,robberyCount:l,onModeChange:y}),e.jsx("main",{className:"content",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading baseball data..."})]})})]}):e.jsxs("div",{className:"app",children:[e.jsx(k,{mode:n,robberyCount:l,onModeChange:y}),e.jsxs("main",{className:"content",children:[u&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:u}),e.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}),e.jsx(ie,{data:r,mode:n,loading:m}),c.length>0&&e.jsx(pe,{data:c})]})]})}D.createRoot(document.getElementById("root")).render(e.jsx(_.StrictMode,{children:e.jsx(ge,{})}));
